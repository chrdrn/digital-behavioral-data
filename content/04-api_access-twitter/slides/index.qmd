---
title: "API-Access ‚Äì Twitter " 
subtitle: "Digital behavioral data - Session 04"
date: 16 11 2022
date-format: "DD.MM.YYYY"
bibliography: references.bib
---

## Seminarplan {.smaller}

| Sitzung                                              | Datum                                                         | Thema                                                                            | Referent\*Innen                                                     |
|------------------|------------------|-------------------|------------------|
| [1]{.rn rn-type="strike-through" rn-color="#E6002E"} | [26.10.2022]{.rn rn-type="strike-through" rn-color="#E6002E"} | [Kick-Off Session]{.rn rn-type="strike-through" rn-color="#E6002E"}              | [Christoph Adrian]{.rn rn-type="strike-through" rn-color="#E6002E"} |
| [2]{.rn rn-type="strike-through" rn-color="#E6002E"} | [02.11.2022]{.rn rn-type="strike-through" rn-color="#E6002E"} | [DBD: Einf√ºhrung und √úberblick]{.rn rn-type="strike-through" rn-color="#E6002E"} | [Christoph Adrian]{.rn rn-type="strike-through" rn-color="#E6002E"} |
| [3]{.rn rn-type="strike-through" rn-color="#E6002E"} | [09.11.2022]{.rn rn-type="strike-through" rn-color="#E6002E"} | [DBD: Datenerhebung]{.rn rn-type="strike-through" rn-color="#E6002E"}            | [Christoph Adrian]{.rn rn-type="strike-through" rn-color="#E6002E"} |
| [**4**]{.rn rn-type="highlight"}                     | [**16.11.2022**]{.rn rn-type="highlight"}                     | [**API-Access (I): Twitter**]{.rn rn-type="highlight"}                           | [Falk]{.rn rn-type="highlight"}                                     |
| 5                                                    | 23.11.2022                                                    | API-Access (II): *YouTube*                                                       | Denisov                                                             |
| 6                                                    | 30.11.2022                                                    | API-Access (II): *Reddit*                                                        | Landauer                                                            |
| 7                                                    | 07.12.2022                                                    | Webscraping: *TikTok*                                                            | Brand & Kocher                                                      |
| 8                                                    | 14.12.2022                                                    | Exkurs: DBD Analyse mit R                                                        | Christoph Adrian                                                    |
|                                                      |                                                               | *WEIHNACHTSPAUSE*                                                                |                                                                     |
| 9                                                    | 12.01.2023                                                    | ESM: *m-path*                                                                    | D√∂rr                                                                |
| 10                                                   | 19.01.2023                                                    | Data Donations                                                                   | Hofmann & Wierzbicki                                                |
| 11                                                   | 26.01.2023                                                    | *PUFFER*                                                                         |                                                                     |
| 12                                                   | 02.02.2023                                                    | *Guest Lecture: Linking DBD & Survey data*                                       | [Johannes Breuer](https://www.johannesbreuer.com/)                  |
| 13                                                   | 09.02.2023                                                    | Semesterabschluss & Evaluation                                                   | Christoph Adrian                                                    |

::: notes
‚ñ∂Ô∏è
:::

# Agenda {background-image="../../../img/background_agenda.png"}

1.  [Verst√§ndnis- & Diskussionsfragen](#verst√§ndnis--diskussionsfragen)
2.  [üë• Group Activity]
3.  [Beispielhafte Auswertungen]

# Verst√§ndnis- & Diskussionsfragen {#verst√§ndnis--diskussionsfragen background-image="../../../img/background_participation.png"}

Ihre Fragen aus MS Teams

## Vielen Dank f√ºr Ihre Fragen! {.scrollable .smaller}

::: {.fragment .semi-fade-out fragment-index="1"}
> Was genau kann unter "N-gram analysis" verstanden werden?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="1"}
> Um semantische Muster der Daten bei der Twitter-Forschung zu erkennen, wendet man h√§ufig Text-Mining-Methoden an. Wie wird dabei mit ironischen Aussagen oder Umgangssprache umgegangen? Sind solche Analysemethoden somit √ºberhaupt verl√§sslich oder kann man diesbez√ºglich mit einer hohen Fehleranf√§lligkeit rechnen?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="2"}
> Viele Studien verwenden Twitter in der Forschung. Dabei werden verschiedene Methoden eingesetzt. Welche Methode (aus Table 4 des Pflichtpapers) w√ºrden Sie am meisten empfehlen? Welche ist am aussagekr√§ftigsten? Oder ist das Kontext-bezogen und eine allgemeine Aussage kann nicht get√§tigt werden?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="3"}
> Interessant w√§re es in diesem Kontext vielleicht nicht nur Twitter, sondern eine andere Social-Media-Plattform zu betrachten, zum Bsp. Facebook. W√ºrden die dominierenden Themen der Facebook-basierten Forschung √§hnlich wie bei Twitter ausfallen? Wie sieht wohl die Entwicklung der Themen in den letzten Jahren aus?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="4"}
> Interessant w√§re es in diesem Kontext vielleicht nicht nur Twitter, sondern eine andere Social-Media-Plattform zu betrachten, zum Bsp. Facebook. W√ºrden die dominierenden Themen der Facebook-basierten Forschung √§hnlich wie bei Twitter ausfallen? Wie sieht wohl die Entwicklung der Themen in den letzten Jahren aus?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="5"}
> Twitter wird unter anderem f√ºr ‚ÄûOpinion Mining" verwendet. Jedoch kann es gerade bei polarisierenden Themen vorkommen, dass sich vor allem Personen mit extremer Meinung √§u√üern und die Personen mittig im Spektrum zur√ºckhalten. Wie kann man einen solchen Bias ausgleichen?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="6"}
> Es kann nur ein kleiner Bruchteil der Twitter-Kommunikation per API abgefragt werden, der zudem noch veraltet ist. Inwieweit sind Trend-Analysen √ºberhaupt m√∂glich? Gibt es M√∂glichkeiten Twitter-Kommunikation zu "streamen"?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="7"}
> Eine gute Studie lebt von den Kriterien der Validit√§t, Objektivit√§t und Reliabilit√§t. Inwieweit k√∂nnen diese Kriterien bei einer Twitter-Analyse erf√ºllt werden?
:::

::: {.fragment .fade-in-then-semi-out fragment-index="8"}
> Was sind die Gr√ºnde f√ºr den R√ºckgang der Forschung mit Twitter-Daten rund um das Thema Marketing?
:::

# üë• Group Activity {background-image="../../../img/background_group_activity.png"}

Gruppenarbeit zur Nutzung der Twitter API (Tools)

## Suchanfrage erstellen & Daten sammeln

#### Twitter case study - Teil 1: Suchen & Sammeln

::: {.callout-important appearance="simple"}
F√ºr die Nutzung des [Tweet Downloader](https://developer.twitter.com/apitools/downloader) ben√∂tigen Sie einen `Bearer Token`. Diesen finden Sie auf MS Teams.
:::

W√§heln Sie eine der folgenden Szenarien aus und erstellen Sie eine Suchanfrage mit Hilfe des [Twitter Query Builder](https://developer.twitter.com/apitools/query?query=):

-   Alle Tweets eines **bestimmten Accounts** seit dem **01.10.2022**

-   Alle Tweets ([ohne Retweets]{.underline}) **mit dem Hashtag** `#karneval` oder `#wokwm` am **letzten Wochenende**

... und ziehen sich die Tweets **als .csv & .json** mit Hilfe des [Tweet Downloader](https://developer.twitter.com/apitools/downloader) (*ben√∂tigt Chrome, Edge oder Opera*)

## Format der Daten & potentielle Analyse(n)

#### Twitter case study - Teil 2: Sichten & Konzipieren

1.  Inspizieren Sie anschlie√üend die Datens√§tze und schauen Sie, welche Informationen Ihnen geliefert werden.

    -   Wie unterscheiden sich die Datenformate?

<br>

2.  Auf Basis der gesichteten Daten ...

    -   Wie w√ºrden Sie die Daten analyiseren bzw. welche Aspekte w√ºrden Sie sich anschauen?

    -   Welche potentielle Fragestellungen k√∂nnten Sie spontan entwickeln?

# Beispielhafte Auswertungen {background-image="../../../img/background_example.png"}

Im Fokus: `#Karneval`

[![Quarto Document](/img/badge-quarto_document.svg)](https://chrdrn.github.io/digital-behavioral-data/content/04-api_access-twitter/04-exercise.html)
[![Binder RStudio](/img/badge-binder_rstudio.svg)](https://mybinder.org/v2/gh/chrdrn/digital-behavioral-data-binder/HEAD?urlpath=rstudio)
[![Binder Jupyter](/img/badge-binder_jupyter.svg){alt="Binder"}](https://mybinder.org/v2/gh/chrdrn/digital-behavioral-data-binder/HEAD)
[![Google Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/chrdrn/digital-behavioral-data-binder/blob/main/session_04-showcase_twitter.ipynb)


```{r}
#| echo: false
#| message: false

# Load packages
library(academictwitteR) # Collecting the data
library(tidyverse) # Preparation of the data
library(quanteda) # Text mining
library(quanteda.textstats) # Text statistics
library(quanteda.textplots) # Visualisation of text data
library(here)
library(sjmisc)
library(lubridate)
library(ggthemes)
library(ggpubr)

# Load data 
tweets_karneval <- bind_tweets(
  data_path = here("content/04-api_access-twitter/data.local/raw_karneval"),
  # data_path = "data/raw_karneval",
  output_format = "tidy") %>% 
    mutate(
    datetime = ymd_hms(created_at),
    date = date(datetime),
    hour = hour(datetime),
    min  = minute(datetime),
    hms  = hms::as_hms(datetime),
    hm   = hms::parse_hm(hms)
  )
```

## Setup und Datensammlung mit R

#### `#Karneval` im Fokus: Hintergrund und Datensammelung

::: columns
::: {.column width="50%"}
Alle Tweets herunterladen, die

-   **`#Karneval`** enthalten

-   zwischen **00:00 am 11.11.2022** und **12:00 am 13.12.2022** erschienen sind

Weiterverarbeitung und Auswertung der Daten mit R, Fokus auf Paket `academictwitteR` [@barrie2021]
:::

::: {.column width="50%"}
Sammlung der Daten mit `academictwitteR`:

```{r}
#| code-line-numbers: "|2|3|4|7"
#| eval: false

get_all_tweets(
  query = "#Karneval", 
  start_tweets = "2022-11-11T00:00:00Z",
  end_tweets = "2022-11-13T12:00:00Z",
  file = "karneval",
  data_path = "data/raw_karneval/",
  n = 100000
  )
```
:::
:::

## Kurzer Blick in die Daten

#### `#Karneval` im Fokus: Daten√ºbersicht

```{r}
tweets_karneval %>% glimpse()
```

## Deutsch, Hashtags, Englisch ...

#### `#Karneval` im Fokus: Sprache der Tweets

::: columns
::: {.column width="50%"}
```{r}
table(tweets_karneval$lang)
```
:::

::: {.column width="50%"}
```{r}
frq(tweets_karneval$lang, sort.frq = "desc")
```
:::
:::

::: notes
qme = only hashtags

und = unidentified
:::

## Am 11.11. um 10:11?

#### `#Karneval` im Fokus: Tweets im Zeitverlauf

```{r}
#| fig-dpi: 600
#| fig-align: center

tweets_karneval %>% 
  ggplot(aes(hour)) +
  geom_bar() +
  facet_grid(cols = vars(date)) +
  theme_pubr()
```

## UTC statt UTC+1

#### `#Karneval` im Fokus: St√§rkste Konzentration von Tweets

```{r}
tweets_karneval %>%
  frq(hm,
      sort.frq = "desc", 
      min.frq = 10)
```

## Ein Blick auf die Sender:Innen {visibility="hidden"}

#### `#Karneval` im Fokus: User mit den meisten Tweets

::: columns
::: {.column width="50%"}
```{r}
#| layout-align: center

tweets_karneval$user_username %>% 
  frq(sort.frq = "desc", 
      min.frq = 10)
```
:::

::: {.column width="50%"}
::: r-stack
```{r}

tweets_karneval %>% 
  filter(user_username == "Gun17170309") %$% 
  glue::glue(
    "Tweet-ID: {tweet_id} 
    Inhalt:
    {text}\n\n") %>% 
  head()

```

::: {.fragment fragment-index="1"}
```{r}

tweets_karneval %>% 
  filter(user_username == "berlinaffaires") %$% 
  glue::glue(
    "Tweet-ID: {tweet_id} 
    Inhalt:
    {text}\n\n") %>% 
  head()

```
:::
:::
:::
:::

# Time for questions {background-image="../../../img/background_questions.png"}

# Bis zur n√§chsten Sitzung! {.unlisted background-image="../../../img/background_end_of_session.png"}

## Literatur

::: {#refs}
:::
